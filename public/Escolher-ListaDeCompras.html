<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EcoFoodTech</title>
  <link rel="stylesheet" href="Escolher-ListaDeCompras.css">
</head>
<body>
  <header>
    <div class="logo">
      <h1><a href="/Escolher-ListaDeCompras">EcoFoodTech</a></h1>
    </div>
    <div class="icons">
      <a href="/Mostrar-ListaDeCompras">üõí Itens selecionados</a>
    </div>
  </header>
  <nav>
    <ul>
      <li><a href="#categoria1">Categoria 1</a></li>
      <li><a href="#categoria2">Categoria 2</a></li>
    </ul>
  </nav>

  <form id="formulario">
    <div id="categoria1">
      <p id="pc">Categoria 1</p>

      <div class="cards">
        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 1</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$9.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 2</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$19.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 3</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$29.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 4</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$29.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 5</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$29.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>
      </div>
    </div>
    <div id="categoria1">
      <p id="pc">Categoria 2</p>

      <div class="cards">
        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 6</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$9.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 7</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$19.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 8</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$29.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 9</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$29.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>

        <div class="card">
          <div class="card-info">
            <h2 class="NomeProduto">Product 10</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam mauris eu lacinia bibendum.</p>
            <p class="Preco">Pre√ßo: R$29.99</p>
            <p>Quantidade:</p>
            <div class="quantity">
              <input type="text" class="Quantidade" value="1">
            </div>
            <button type="button" class="Adicionar">Adicionar a lista</button>
          </div>
        </div>
      </div>
    </div>
  </form>

  <script>
    const adicionarButtons = document.querySelectorAll('.Adicionar');
  
adicionarButtons.forEach(button => {
  button.addEventListener('click', (event) => {
    event.stopPropagation(); // Impede a propaga√ß√£o do evento para os bot√µes de incremento e decremento
    const card = button.closest('.card');
    const nome = card.querySelector('.NomeProduto').textContent;
    const preco = card.querySelector('.Preco').textContent;
    const quantidade = card.querySelector('.Quantidade').value;
  
        const novoProduto = {
          nome: nome,
          preco: preco,
          quantidade: quantidade
        };
  
        fetch('/produto', {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(novoProduto)
        })
          .then(response => response.json())
          .then(data => {
            alert(`Produto ${data.nome} adicionado com sucesso.`);
          })
          .catch(error => {
            alert('Ocorreu um erro ao adicionar o produto.');
            console.error(error);
          });
      });
    });
  
    const formulario = document.getElementById('formulario');
  
    formulario.addEventListener('submit', (event) => {
      event.preventDefault();
  
      const produtos = document.getElementsByClassName('card');
      const produtosAdicionados = [];
  
      for (const produto of produtos) {
        const nome = produto.querySelector('.NomeProduto').textContent;
        const preco = produto.querySelector('.Preco').textContent;
        const quantidade = produto.querySelector('.Quantidade').value;
  
        produtosAdicionados.push({
          nome: nome,
          preco: preco,
          quantidade: quantidade
        });
      }
  
      alert('Produtos adicionados com sucesso:');
      produtosAdicionados.forEach(produto => {
        alert(`- Produto: ${produto.nome}, Pre√ßo: ${produto.preco}, Quantidade: ${produto.quantidade}`);
      });
  
      formulario.reset();
    });
  </script>
  
</body>
</html>
